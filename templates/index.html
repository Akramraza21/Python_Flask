{% extends 'base.html' %}

{% block content %}
<div style="margin: 20px; padding: 10px;">
    <h1>All  Posts </h1>
    <form action="/" style="margin:20px; padding:20px; width: 40%; height: 300px; border: 2px solid black; background-color: rgb(117, 105, 105); float: right;" method="POST">
    <caption>Create Story</caption>
    
    <label for="article"> Article :</label>
    <textarea name="article" id="article" cols="40" rows="10" placeholder="Enter article"></textarea><br><br>
    <label for="author">Author :</label>
    <input type="text" name="author" id="author"><br><br><br>
    <input type="submit" value="Post">
    </form>
    <div style=" border: 5px solid brown; width: 40%; height: 100%;">

        {% for post in posts %}
        <div style="margin:20px; padding:20px; width: 80%; height: 100pxpx; border: 5px solid black; background-color: rgba(117, 105, 105,0.5);">
            <p>
                Article :{{post.article}}
            </p>
            {% if post.author %}
            <pre>
                Author : {{post.author}}
            </pre>
            {% else %}
            <pre>
                Author : N/A
            </pre>
            {% endif %}
            <a href="/post/delete/{{post.id}}">
                <button>Delete</button> 
            </a>
            <a href="post/edit/{{post.id}}">
                <button>Edit</button>
            </a>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}